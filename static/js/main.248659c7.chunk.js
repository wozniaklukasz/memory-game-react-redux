(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},56:function(e,t){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),a=c(20),i=c.n(a),o=c(10),u=(c(42),c(43),c(3)),s=c(23),d=c(12),j=c(11),b={name:"",score:1e3},l=Object(j.b)({name:"user",initialState:b,reducers:{resetUser:function(){return Object(d.a)({},b)},setName:function(e,t){e.name=t.payload},setScore:function(e,t){e.score=t.payload},addToScore:function(e,t){e.score+=t.payload}}}),f=l.actions,O=f.setName,m=(f.setScore,f.addToScore),h=f.resetUser,p=l,v={home:"/",game:"/game",scoreBoard:"/scoreBoard"},x=function(e){return e.user},g=(c(44),function(e){var t=e.children;return Object(n.jsx)(s.b.div,{className:"motion",initial:"initial",animate:"in",exit:"out",variants:{initial:{opacity:0},in:{opacity:1},out:{opacity:0}},transition:{duration:.5},children:t})});var S=function(){var e=Object(u.f)(),t=Object(o.b)(),c=Object(o.c)(x);return Object(r.useEffect)((function(){t(h())}),[t]),Object(n.jsx)(g,{children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push(v.game)},children:[Object(n.jsxs)("label",{children:["Enter Your name:",Object(n.jsx)("input",{value:c.name,onChange:function(e){t(O(e.currentTarget.value))}})]}),Object(n.jsx)("input",{disabled:!c.name,type:"submit",value:"Play!"})]})})},y=c(19),B=c(24);c(46);var C=function(e){var t=e.id,c=e.pairId,r=e.revealed,a=e.guessed,i=e.onCardClick;return Object(n.jsx)("div",{className:"card-wrapper",children:Object(n.jsxs)("div",{className:function(){var e="card";return a?"".concat(e," ").concat(e,"--guessed"):r?"".concat(e," ").concat(e,"--revealed"):e}(),onClick:function(){a||r||i({id:t,pairId:c,guessed:a})},children:[Object(n.jsx)("div",{className:"card-side card-side--front",style:{backgroundImage:"url(".concat(c,")")}}),Object(n.jsx)("div",{className:"card-side card-side--back"})]})})},k=(c(47),c(32)),I=Object(j.b)({name:"scoreBoard",initialState:[],reducers:{addScore:function(e,t){var c=Object(y.a)(e);return c.push(t.payload),c.sort((function(e,t){return e.score<t.score?1:-1}))}}}),T=I.actions.addScore,N=I,w=null;var E=function(){var e=Object(u.f)(),t=Object(o.b)(),c=Object(r.useRef)();c.current=Object(o.c)(x);var a=Object(r.useState)(function(){for(var e=[],t=new k.AvatarGenerator,c=0;c<6;c++){var n=t.generateRandomAvatar();e.push(n),e.push(n)}return e.sort((function(){return.5-Math.random()})).map((function(e,t){return{id:t,pairId:e,guessed:!1}}))}()),i=Object(B.a)(a,2),s=i[0],j=i[1],b=Object(r.useState)([]),l=Object(B.a)(b,2),f=l[0],O=l[1],h=Object(r.useState)(0),p=Object(B.a)(h,2),S=p[0],I=p[1],N=Object(r.useCallback)((function(){e.push(v.scoreBoard)}),[e]);Object(r.useEffect)((function(){6===S&&N()}),[S,N]),Object(r.useEffect)((function(){return function(){c&&t(T(c.current)),clearTimeout(w)}}),[t]);var E=function(e){t(m(e?50:-10))},F=function(e){O((function(t){var c=[].concat(Object(y.a)(t),[e]);if(1===t.length){w=setTimeout((function(){O([])}),1500);var n=t[0];return function(e,t){return e.pairId===t.pairId}(n,e)?(function(e,t){j((function(c){var n=Object(y.a)(c);return n[e.id]=Object(d.a)(Object(d.a)({},e),{},{guessed:!0}),n[t.id]=Object(d.a)(Object(d.a)({},t),{},{guessed:!0}),n})),I((function(e){return++e}))}(n,e),E(!0),[]):(E(!1),c)}return 2===t.length?(clearTimeout(w),[e]):(clearTimeout(w),c)}))};return Object(n.jsx)(g,{children:Object(n.jsx)("div",{className:"cards-wrapper",children:s.map((function(e){return Object(n.jsx)(C,{id:e.id,pairId:e.pairId,guessed:e.guessed,revealed:(t=e.id,!!f.find((function(e){return e.id===t}))),onCardClick:F},e.id);var t}))})})},F=function(e){return e.scoreBoard};var P=function(){var e=Object(u.f)(),t=Object(o.c)(F);return Object(n.jsxs)(g,{children:["Score Board:",Object(n.jsx)("ol",{children:t.map((function(e,t){return Object(n.jsxs)("li",{children:[e.name," - ",e.score,"p."]},[e.name,t].join())}))}),Object(n.jsx)("button",{onClick:function(){e.push(v.home)},children:"Back to start"})]})};var A=function(){var e=Object(u.g)();return Object(n.jsx)(s.a,{exitBeforeEnter:!0,children:Object(n.jsxs)(u.c,{location:e,children:[Object(n.jsx)(u.a,{exact:!0,path:v.home,children:Object(n.jsx)(S,{})}),Object(n.jsx)(u.a,{path:v.game,children:Object(n.jsx)(E,{})}),Object(n.jsx)(u.a,{path:v.scoreBoard,children:Object(n.jsx)(P,{})})]},e.pathname)})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))},J=c(9),L=Object(J.c)({user:p.reducer,scoreBoard:N.reducer}),R=Object(j.c)({serializableCheck:!1}),U=Object(j.a)({reducer:L,middleware:R}),z=c(15);i.a.render(Object(n.jsx)(o.a,{store:U,children:Object(n.jsx)(z.a,{children:Object(n.jsx)(A,{})})}),document.getElementById("root")),D()}},[[57,1,2]]]);
//# sourceMappingURL=main.248659c7.chunk.js.map