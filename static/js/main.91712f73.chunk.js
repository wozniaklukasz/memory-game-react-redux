(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},56:function(e,t){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),a=c(12),i=c.n(a),s=c(10),o=(c(43),c(19)),u=(c(44),c(3)),d=c(60),j=c(59),b=c(14),l=c(13),f={name:"",score:1e3},O=Object(l.b)({name:"user",initialState:f,reducers:{resetUser:function(){return Object(b.a)({},f)},setName:function(e,t){e.name=t.payload},setScore:function(e,t){e.score=t.payload},addToScore:function(e,t){e.score+=t.payload}}}),m=O.actions,h=m.setName,v=(m.setScore,m.addToScore),p=m.resetUser,x=O,g={home:"/",game:"/game",scoreBoard:"/scoreBoard"},S=function(e){return e.user};var C=function(){var e=Object(u.f)(),t=Object(s.b)(),c=Object(s.c)(S);return Object(r.useEffect)((function(){t(p())}),[t]),Object(n.jsx)("div",{className:"animated-view",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push(g.game)},children:[Object(n.jsxs)("label",{children:["Enter Your name:",Object(n.jsx)("input",{value:c.name,onChange:function(e){t(h(e.currentTarget.value))}})]}),Object(n.jsx)("input",{disabled:!c.name,type:"submit",value:"Play!"})]})})},k=c(22);c(46);var B=function(e){var t=e.id,c=e.pairId,r=e.revealed,a=e.guessed,i=e.onCardClick;return Object(n.jsx)("div",{className:"card-wrapper",children:Object(n.jsxs)("div",{className:function(){var e="card";return a?"".concat(e," ").concat(e,"--guessed"):r?"".concat(e," ").concat(e,"--revealed"):e}(),onClick:function(){a||r||i({id:t,pairId:c,guessed:a})},children:[Object(n.jsx)("div",{className:"card-side card-side--front",style:{backgroundImage:"url(".concat(c,")")}}),Object(n.jsx)("div",{className:"card-side card-side--back"})]})})},y=(c(47),c(32)),I=Object(l.b)({name:"scoreBoard",initialState:[],reducers:{addScore:function(e,t){var c=Object(k.a)(e);return c.push(t.payload),c.sort((function(e,t){return e.score<t.score?1:-1}))}}}),N=I.actions.addScore,w=I,T=null;var E=function(){var e=Object(u.f)(),t=Object(s.b)(),c=Object(r.useRef)();c.current=Object(s.c)(S);var a=Object(r.useState)(function(){for(var e=[],t=new y.AvatarGenerator,c=0;c<2;c++){var n=t.generateRandomAvatar();e.push(n),e.push(n)}return e.sort((function(){return.5-Math.random()})).map((function(e,t){return{id:t,pairId:e,guessed:!1}}))}()),i=Object(o.a)(a,2),d=i[0],j=i[1],l=Object(r.useState)([]),f=Object(o.a)(l,2),O=f[0],m=f[1],h=Object(r.useState)(0),p=Object(o.a)(h,2),x=p[0],C=p[1],I=Object(r.useCallback)((function(){e.push(g.scoreBoard)}),[e]);Object(r.useEffect)((function(){2===x&&I()}),[x,I]),Object(r.useEffect)((function(){return function(){c&&t(N(c.current)),clearTimeout(T)}}),[t]);var w=function(e){t(v(e?50:-10))},E=function(e){m((function(t){var c=[].concat(Object(k.a)(t),[e]);if(1===t.length){T=setTimeout((function(){m([])}),1500);var n=t[0];return function(e,t){return e.pairId===t.pairId}(n,e)?(function(e,t){j((function(c){var n=Object(k.a)(c);return n[e.id]=Object(b.a)(Object(b.a)({},e),{},{guessed:!0}),n[t.id]=Object(b.a)(Object(b.a)({},t),{},{guessed:!0}),n})),C((function(e){return++e}))}(n,e),w(!0),[]):(w(!1),c)}return 2===t.length?(clearTimeout(T),[e]):(clearTimeout(T),c)}))};return Object(n.jsx)("div",{className:"animated-view",children:Object(n.jsx)("div",{className:"cards-wrapper",children:d.map((function(e){return Object(n.jsx)(B,{id:e.id,pairId:e.pairId,guessed:e.guessed,revealed:(t=e.id,!!O.find((function(e){return e.id===t}))),onCardClick:E},e.id);var t}))})})},F=function(e){return e.scoreBoard};var P=function(){var e=Object(u.f)(),t=Object(s.c)(F);return Object(n.jsxs)("div",{className:"animated-view",children:["Score Board:",Object(n.jsx)("ol",{children:t.map((function(e,t){return Object(n.jsxs)("li",{children:[e.name," - ",e.score,"p."]},[e.name,t].join())}))}),Object(n.jsx)("button",{onClick:function(){e.push(g.home)},children:"Back to start"})]})};var A=function(){var e=Object(u.g)(),t=Object(r.useState)(!1),c=Object(o.a)(t,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){i(!0)}),[]),Object(n.jsx)(d.a,{component:"main",children:Object(n.jsx)(j.a,{timeout:{enter:600,exit:600},appear:!0,in:a,children:Object(n.jsxs)(u.c,{location:e,children:[Object(n.jsx)(u.a,{exact:!0,path:g.home,children:Object(n.jsx)(C,{})}),Object(n.jsx)(u.a,{path:g.game,children:Object(n.jsx)(E,{})}),Object(n.jsx)(u.a,{path:g.scoreBoard,children:Object(n.jsx)(P,{})})]})},e.pathname)})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))},J=c(9),L=Object(J.c)({user:x.reducer,scoreBoard:w.reducer}),R=Object(l.c)({serializableCheck:!1}),U=Object(l.a)({reducer:L,middleware:R}),z=c(17);i.a.render(Object(n.jsx)(s.a,{store:U,children:Object(n.jsx)(z.a,{children:Object(n.jsx)(A,{})})}),document.getElementById("root")),D()}},[[57,1,2]]]);
//# sourceMappingURL=main.91712f73.chunk.js.map